/*!
 * bootstrap-tags 1.1.5
 * https://github.com/maxwells/bootstrap-tags
 * Copyright 2013 Max Lahey; Licensed MIT
 */
(function(n){(function(){window.Tags||(window.Tags={});jQuery(function(){return n.tags=function(t,i){var e,u,o,h,f,c,s,r=this;i==null&&(i={});for(e in i)h=i[e],this[e]=h;if(this.bootstrapVersion||(this.bootstrapVersion="3"),this.readOnly||(this.readOnly=!1),this.suggestOnClick||(this.suggestOnClick=!1),this.suggestions||(this.suggestions=[]),this.restrictTo=i.restrictTo!=null?i.restrictTo.concat(this.suggestions):!1,this.exclude||(this.exclude=!1),this.displayPopovers=i.popovers!=null?!0:i.popoverData!=null,this.popoverTrigger||(this.popoverTrigger="hover"),this.tagClass||(this.tagClass="btn-info"),this.tagSize||(this.tagSize="md"),this.promptText||(this.promptText="Enter tags..."),this.caseInsensitive||(this.caseInsensitive=!1),this.readOnlyEmptyMessage||(this.readOnlyEmptyMessage="No tags to display..."),this.maxNumTags||(this.maxNumTags=-1),this.beforeAddingTag||(this.beforeAddingTag=function(){}),this.afterAddingTag||(this.afterAddingTag=function(){}),this.beforeDeletingTag||(this.beforeDeletingTag=function(){}),this.afterDeletingTag||(this.afterDeletingTag=function(){}),this.definePopover||(this.definePopover=function(n){return'associated content for "'+n+'"'}),this.excludes||(this.excludes=function(){return!1}),this.tagRemoved||(this.tagRemoved=function(){}),this.pressedReturn||(this.pressedReturn=function(){}),this.pressedDelete||(this.pressedDelete=function(){}),this.pressedDown||(this.pressedDown=function(){}),this.pressedUp||(this.pressedUp=function(){}),this.$element=n(t),i.tagData!=null?this.tagsArray=i.tagData:(o=n(".tag-data",this.$element).html(),this.tagsArray=o!=null?o.split(","):[]),i.popoverData)this.popoverArray=i.popoverData;else for(this.popoverArray=[],s=this.tagsArray,f=0,c=s.length;f<c;f++)u=s[f],this.popoverArray.push(null);return this.getTags=function(){return r.tagsArray},this.getTagsContent=function(){return r.popoverArray},this.getTagsWithContent=function(){var u,i,n,t;for(u=[],i=n=0,t=r.tagsArray.length-1;0<=t?n<=t:n>=t;i=0<=t?++n:--n)u.push({tag:r.tagsArray[i],content:r.popoverArray[i]});return u},this.getTag=function(n){var t;return t=r.tagsArray.indexOf(n),t>-1?r.tagsArray[t]:null},this.getTagWithContent=function(n){var t;return t=r.tagsArray.indexOf(n),{tag:r.tagsArray[t],content:r.popoverArray[t]}},this.hasTag=function(n){return r.tagsArray.indexOf(n)>-1},this.removeTagClicked=function(t){return t.currentTarget.tagName==="A"&&(r.removeTag(n("span",t.currentTarget.parentElement).html()),n(t.currentTarget.parentNode).remove()),r},this.removeLastTag=function(){return r.tagsArray.length>0&&(r.removeTag(r.tagsArray[r.tagsArray.length-1]),r.canAddByMaxNum()&&r.enableInput()),r},this.removeTag=function(n){if(r.tagsArray.indexOf(n)>-1){if(r.beforeDeletingTag(n)===!1)return;r.popoverArray.splice(r.tagsArray.indexOf(n),1);r.tagsArray.splice(r.tagsArray.indexOf(n),1);r.renderTags();r.afterDeletingTag(n);r.canAddByMaxNum()&&r.enableInput()}return r},this.canAddByRestriction=function(n){return this.restrictTo===!1||this.restrictTo.indexOf(n)!==-1},this.canAddByExclusion=function(n){return(this.exclude===!1||this.exclude.indexOf(n)===-1)&&!this.excludes(n)},this.canAddByMaxNum=function(){return this.maxNumTags===-1||this.tagsArray.length<this.maxNumTags},this.addTag=function(n){var t;if(r.canAddByRestriction(n)&&!r.hasTag(n)&&n.length>0&&r.canAddByExclusion(n)&&r.canAddByMaxNum()){if(r.beforeAddingTag(n)===!1)return;t=r.definePopover(n);r.popoverArray.push(t||null);r.tagsArray.push(n);r.afterAddingTag(n);r.renderTags();r.canAddByMaxNum()||r.disableInput()}return r},this.addTagWithContent=function(n,t){if(r.canAddByRestriction(n)&&!r.hasTag(n)&&n.length>0){if(r.beforeAddingTag(n)===!1)return;r.tagsArray.push(n);r.popoverArray.push(t);r.afterAddingTag(n);r.renderTags()}return r},this.renameTag=function(n,t){return r.tagsArray[r.tagsArray.indexOf(n)]=t,r.renderTags(),r},this.setPopover=function(n,t){return r.popoverArray[r.tagsArray.indexOf(n)]=t,r.renderTags(),r},this.clickHandler=function(n){return r.makeSuggestions(n,!0)},this.keyDownHandler=function(n){var i,t;i=n.keyCode!=null?n.keyCode:n.which;switch(i){case 13:return n.preventDefault(),r.pressedReturn(n),u=n.target.value,r.suggestedIndex!==-1&&(u=r.suggestionList[r.suggestedIndex]),r.addTag(u),n.target.value="",r.renderTags(),r.hideSuggestions();case 46:case 8:if(r.pressedDelete(n),n.target.value===""&&r.removeLastTag(),n.target.value.length===1)return r.hideSuggestions();break;case 40:if(r.pressedDown(n),r.input.val()===""&&(r.suggestedIndex===-1||r.suggestedIndex==null)&&r.makeSuggestions(n,!0),t=r.suggestionList.length,r.suggestedIndex=r.suggestedIndex<t-1?r.suggestedIndex+1:t-1,r.selectSuggested(r.suggestedIndex),r.suggestedIndex>=0)return r.scrollSuggested(r.suggestedIndex);break;case 38:if(r.pressedUp(n),r.suggestedIndex=r.suggestedIndex>0?r.suggestedIndex-1:0,r.selectSuggested(r.suggestedIndex),r.suggestedIndex>=0)return r.scrollSuggested(r.suggestedIndex);break;case 9:case 27:return r.hideSuggestions(),r.suggestedIndex=-1}},this.keyUpHandler=function(n){var t;return t=n.keyCode!=null?n.keyCode:n.which,t!==40&&t!==38&&t!==27?r.makeSuggestions(n,!1):void 0},this.getSuggestions=function(t,i){var r=this;return this.suggestionList=[],this.caseInsensitive&&(t=t.toLowerCase()),n.each(this.suggestions,function(n,u){var f;return f=r.caseInsensitive?u.substring(0,t.length).toLowerCase():u.substring(0,t.length),r.tagsArray.indexOf(u)<0&&f===t&&(t.length>0||i)?r.suggestionList.push(u):void 0}),this.suggestionList},this.makeSuggestions=function(t,i,u){return u==null&&(u=t.target.value!=null?t.target.value:t.target.textContent),r.suggestedIndex=-1,r.$suggestionList.html(""),n.each(r.getSuggestions(u,i),function(n,t){return r.$suggestionList.append(r.template("tags_suggestion",{suggestion:t}))}),r.$(".tags-suggestion").mouseover(r.selectSuggestedMouseOver),r.$(".tags-suggestion").click(r.suggestedClicked),r.suggestionList.length>0?r.showSuggestions():r.hideSuggestions()},this.suggestedClicked=function(n){return u=n.target.textContent,r.suggestedIndex!==-1&&(u=r.suggestionList[r.suggestedIndex]),r.addTag(u),r.input.val(""),r.makeSuggestions(n,!1,""),r.input.focus(),r.hideSuggestions()},this.hideSuggestions=function(){return r.$(".tags-suggestion-list").css({display:"none"})},this.showSuggestions=function(){return r.$(".tags-suggestion-list").css({display:"block"})},this.selectSuggestedMouseOver=function(t){return n(".tags-suggestion").removeClass("tags-suggestion-highlighted"),n(t.target).addClass("tags-suggestion-highlighted"),n(t.target).mouseout(r.selectSuggestedMousedOut),r.suggestedIndex=r.$(".tags-suggestion").index(n(t.target))},this.selectSuggestedMousedOut=function(t){return n(t.target).removeClass("tags-suggestion-highlighted")},this.selectSuggested=function(t){var i;return n(".tags-suggestion").removeClass("tags-suggestion-highlighted"),i=r.$(".tags-suggestion").eq(t),i.addClass("tags-suggestion-highlighted")},this.scrollSuggested=function(n){var t,i,u,f;return i=r.$(".tags-suggestion").eq(n),u=r.$(".tags-suggestion").eq(0),t=i.position(),f=u.position(),t!=null?r.$(".tags-suggestion-list").scrollTop(t.top-f.top):void 0},this.adjustInputPosition=function(){var f,u,e,o,i,t;return i=r.$(".tag").last(),t=i.position(),u=t!=null?t.left+i.outerWidth(!0):0,e=t!=null?t.top:0,o=r.$element.width()-u,n(".tags-input",r.$element).css({paddingLeft:Math.max(u,0),paddingTop:Math.max(e,0),width:o}),f=t!=null?t.top+i.outerHeight(!0):22,r.$element.css({paddingBottom:f-r.$element.height()})},this.renderTags=function(){var t;return t=r.$(".tags"),t.html(""),r.input.attr("placeholder",r.tagsArray.length===0?r.promptText:""),n.each(r.tagsArray,function(i,u){return u=n(r.formatTag(i,u)),n("a",u).click(r.removeTagClicked),n("a",u).mouseover(r.toggleCloseColor),n("a",u).mouseout(r.toggleCloseColor),r.displayPopovers&&r.initializePopoverFor(u,r.tagsArray[i],r.popoverArray[i]),t.append(u)}),r.adjustInputPosition()},this.renderReadOnly=function(){var t;return t=r.$(".tags"),t.html(r.tagsArray.length===0?r.readOnlyEmptyMessage:""),n.each(r.tagsArray,function(i,u){return u=n(r.formatTag(i,u,!0)),r.displayPopovers&&r.initializePopoverFor(u,r.tagsArray[i],r.popoverArray[i]),t.append(u)})},this.disableInput=function(){return this.$("input").prop("disabled",!0)},this.enableInput=function(){return this.$("input").prop("disabled",!1)},this.initializePopoverFor=function(t,u,f){return i={title:u,content:f,placement:"bottom"},r.popoverTrigger==="hoverShowClickHide"?(n(t).mouseover(function(){return n(t).popover("show"),n(".tag").not(t).popover("hide")}),n(document).click(function(){return n(t).popover("hide")})):i.trigger=r.popoverTrigger,n(t).popover(i)},this.toggleCloseColor=function(t){var i,r;return r=n(t.currentTarget),i=r.css("opacity"),i=i<.8?1:.6,r.css({opacity:i})},this.formatTag=function(n,t,i){var u;return i==null&&(i=!1),u=t.replace("<","&lt;").replace(">","&gt;"),r.template("tag",{tag:u,tagClass:r.tagClass,isPopover:r.displayPopovers,isReadOnly:i,tagSize:r.tagSize})},this.addDocumentListeners=function(){return n(document).mouseup(function(n){var t;return t=r.$(".tags-suggestion-list"),t.has(n.target).length===0?r.hideSuggestions():void 0})},this.template=function(n,t){return Tags.Templates.Template(this.getBootstrapVersion(),n,t)},this.$=function(t){return n(t,this.$element)},this.getBootstrapVersion=function(){return Tags.bootstrapVersion||this.bootstrapVersion},this.initializeDom=function(){return this.$element.append(this.template("tags_container"))},this.init=function(){return this.$element.addClass("bootstrap-tags").addClass("bootstrap-"+this.getBootstrapVersion()),this.initializeDom(),this.readOnly?(this.renderReadOnly(),this.removeTag=function(){},this.removeTagClicked=function(){},this.removeLastTag=function(){},this.addTag=function(){},this.addTagWithContent=function(){},this.renameTag=function(){},this.setPopover=function(){}):(this.input=n(this.template("input",{tagSize:this.tagSize})),this.suggestOnClick&&this.input.click(this.clickHandler),this.input.keydown(this.keyDownHandler),this.input.keyup(this.keyUpHandler),this.$element.append(this.input),this.$suggestionList=n(this.template("suggestion_list")),this.$element.append(this.$suggestionList),this.renderTags(),this.canAddByMaxNum()||this.disableInput(),this.addDocumentListeners())},this.init(),this},n.fn.tags=function(t){var r,i;return i={},r=typeof t=="number"?t:-1,this.each(function(u,f){var e;return e=n(f),e.data("tags")==null&&e.data("tags",new n.tags(this,t)),r===u||u===0?i=e.data("tags"):void 0}),i}})}).call(this),function(){window.Tags||(window.Tags={});Tags.Helpers||(Tags.Helpers={});Tags.Helpers.addPadding=function(n,t,i){return(t==null&&(t=1),i==null&&(i=!0),!i)?n:t===0?n:Tags.Helpers.addPadding("&nbsp"+n+"&nbsp",t-1)}}.call(this),function(){var n;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(n=Tags.Templates)["2"]||(n["2"]={});Tags.Templates["2"].input=function(n){var t;return n==null&&(n={}),t=function(){switch(n.tagSize){case"sm":return"small";case"md":return"medium";case"lg":return"large"}}(),"<input type='text' class='tags-input input-"+t+"' />"}}.call(this),function(){var n;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(n=Tags.Templates)["2"]||(n["2"]={});Tags.Templates["2"].tag=function(n){return n==null&&(n={}),"<div class='tag label "+n.tagClass+" "+n.tagSize+"' "+(n.isPopover?"rel='popover'":"")+">    <span>"+Tags.Helpers.addPadding(n.tag,2,n.isReadOnly)+"<\/span>    "+(n.isReadOnly?"":"<a><i class='remove icon-remove-sign icon-white' /><\/a>")+"  <\/div>"}}.call(this),function(){var n;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(n=Tags.Templates)["3"]||(n["3"]={});Tags.Templates["3"].input=function(n){return n==null&&(n={}),"<input type='text' class='form-control tags-input input-"+n.tagSize+"' />"}}.call(this),function(){var n;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(n=Tags.Templates)["3"]||(n["3"]={});Tags.Templates["3"].tag=function(n){return n==null&&(n={}),"<div class='tag label "+n.tagClass+" "+n.tagSize+"' "+(n.isPopover?"rel='popover'":"")+">    <span>"+Tags.Helpers.addPadding(n.tag,2,n.isReadOnly)+"<\/span>    "+(n.isReadOnly?"":"<a><i class='remove glyphicon glyphicon-remove-sign glyphicon-white' /><\/a>")+"  <\/div>"}}.call(this),function(){var n;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(n=Tags.Templates).shared||(n.shared={});Tags.Templates.shared.suggestion_list=function(n){return n==null&&(n={}),'<ul class="tags-suggestion-list dropdown-menu"><\/ul>'}}.call(this),function(){var n;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(n=Tags.Templates).shared||(n.shared={});Tags.Templates.shared.tags_container=function(n){return n==null&&(n={}),'<div class="tags"><\/div>'}}.call(this),function(){var n;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(n=Tags.Templates).shared||(n.shared={});Tags.Templates.shared.tags_suggestion=function(n){return n==null&&(n={}),"<li class='tags-suggestion'>"+n.suggestion+"<\/li>"}}.call(this),function(){window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});Tags.Templates.Template=function(n,t,i){return Tags.Templates[n]!=null&&Tags.Templates[n][t]!=null?Tags.Templates[n][t](i):Tags.Templates.shared[t](i)}}.call(this)})(window.jQuery);
//# sourceMappingURL=bootstrap-tags.min.js.map
